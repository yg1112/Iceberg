# Market Demand Radar (V2)

![å‘å¸ƒçŠ¶æ€](https://img.shields.io/badge/çŠ¶æ€-å¼€å‘ä¸­-brightgreen)
![ç‰ˆæœ¬](https://img.shields.io/badge/ç‰ˆæœ¬-v2.0-blue)

## æ¦‚è¿°
å¸‚åœºéœ€æ±‚é›·è¾¾ï¼ˆMarket Demand Radarï¼‰æ˜¯ä¸€ä¸ªé«˜çº§å¸‚åœºæœºä¼šåˆ†æå·¥å…·ï¼Œå®ƒèƒ½å¤Ÿä»å¤šä¸ªæ•°æ®æºï¼ˆRedditã€Product Huntã€App Storeã€Chrome Web Storeï¼‰æ”¶é›†æ•°æ®ï¼Œä½¿ç”¨äººå·¥æ™ºèƒ½åˆ†ææœªæ»¡è¶³çš„ç”¨æˆ·éœ€æ±‚ï¼Œå¹¶æä¾›ç»è¿‡è¯„åˆ†çš„äº§å“æœºä¼šæ¨èã€‚ç³»ç»Ÿæä¾›äº¤äº’å¼ä»ªè¡¨æ¿å’Œç”µå­é‚®ä»¶æ‘˜è¦ï¼Œæ˜¯ç‹¬ç«‹å¼€å‘è€…ã€æŠ•èµ„è€…å’Œäº§å“ç»ç†å‘ç°æœ‰ä»·å€¼æœºä¼šçš„ç†æƒ³å·¥å…·ã€‚

## ğŸ”‘ æ ¸å¿ƒåŠŸèƒ½
- **å¤šæºæ•°æ®æ”¶é›†**ï¼šå¼‚æ­¥ä»Redditã€Product Huntã€åº”ç”¨å•†åº—ç­‰è·å–æ•°æ®
- **AIé©±åŠ¨åˆ†æ**ï¼šä½¿ç”¨GPT-3.5-turboæå–ç”¨æˆ·ç—›ç‚¹å’Œæœºä¼š
- **éœ€æ±‚ä¾›åº”è¯„åˆ†**ï¼šä½¿ç”¨å¤åˆç®—æ³•è®¡ç®—æœºä¼šä»·å€¼ï¼ˆDemandÃ—Supply gapï¼‰
- **é»„é‡‘åŒºåŸŸè¯†åˆ«**ï¼šè‡ªåŠ¨è¯†åˆ«é«˜éœ€æ±‚ä½ç«äº‰çš„æœºä¼š
- **äº¤äº’å¼ä»ªè¡¨æ¿**ï¼šä½¿ç”¨Streamlitæ„å»ºï¼Œæ”¯æŒå¤šç»´è¿‡æ»¤å’Œå¯è§†åŒ–
- **ç”µå­é‚®ä»¶æ‘˜è¦**ï¼šè‡ªåŠ¨å‘é€é«˜ä»·å€¼æœºä¼šçš„æ¯å‘¨æ‘˜è¦

## ğŸ“Š é¡¹ç›®ç»“æ„

```
market_demand_radar/
â”œâ”€â”€ src/                      # ä¸»è¦æºä»£ç 
â”‚   â”œâ”€â”€ scrapers/             # æ•°æ®æ”¶é›†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ reddit_scraper.py    # Redditæ•°æ®æŠ“å–
â”‚   â”‚   â”œâ”€â”€ producthunt_scraper.py # ProductHuntæ•°æ®æŠ“å–
â”‚   â”‚   â”œâ”€â”€ appstore_scraper.py  # App Storeè¯„è®ºæŠ“å–
â”‚   â”‚   â””â”€â”€ chromestore_scraper.py # Chromeå•†åº—æ•°æ®æŠ“å–
â”‚   â”œâ”€â”€ extractor.py          # LLMåˆ†æå™¨ï¼Œæå–æœºä¼š
â”‚   â”œâ”€â”€ scoring.py            # è¯„åˆ†å¼•æ“ï¼Œè®¡ç®—æœºä¼šä»·å€¼
â”‚   â”œâ”€â”€ competitive.py        # ç«äº‰åˆ†æï¼Œè·å–ç«å“æ•°æ®
â”‚   â”œâ”€â”€ report.py             # æŠ¥å‘Šç”Ÿæˆå™¨ï¼Œç”Ÿæˆåˆ†ææŠ¥å‘Š
â”‚   â”œâ”€â”€ email_digest.py       # ç”µå­é‚®ä»¶æ‘˜è¦ç”Ÿæˆå™¨
â”‚   â””â”€â”€ config.py             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ dashboard.py              # Streamlitä»ªè¡¨æ¿åº”ç”¨
â”œâ”€â”€ main_v2.py                # ä¸»ç¨‹åºå…¥å£ç‚¹
â”œâ”€â”€ main.py                   # æ—§ç‰ˆä¸»ç¨‹åºå…¥å£ç‚¹
â”œâ”€â”€ tests/                    # æµ‹è¯•å¥—ä»¶
â”‚   â”œâ”€â”€ unit/                 # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ integration/          # é›†æˆæµ‹è¯•
â”œâ”€â”€ prompts/                  # LLMæç¤ºè¯æ¨¡æ¿
â”‚   â””â”€â”€ opportunity_v2.txt    # æœºä¼šæå–æç¤ºè¯
â”œâ”€â”€ reports/                  # ç”Ÿæˆçš„æŠ¥å‘Šå­˜å‚¨
â”œâ”€â”€ PRDs/                     # äº§å“éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ V1                    # V1äº§å“éœ€æ±‚
â”‚   â””â”€â”€ V2                    # V2äº§å“éœ€æ±‚
â”œâ”€â”€ tools/                    # å·¥å…·ç›®å½•
â”‚   â””â”€â”€ update_scratchpad.py  # é¡¹ç›®çŠ¶æ€è¿½è¸ªå·¥å…·
â”œâ”€â”€ .cursorscratchpad         # é¡¹ç›®çŠ¶æ€è·Ÿè¸ªæ–‡ä»¶
â”œâ”€â”€ requirements.txt          # é¡¹ç›®ä¾èµ–
â””â”€â”€ README.md                 # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ å®‰è£…æŒ‡å—

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/market_demand_radar.git
cd market_demand_radar

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
export OPENAI_API_KEY="your_openai_api_key"
# æˆ–åˆ›å»º.envæ–‡ä»¶å¹¶æ·»åŠ æ‚¨çš„APIå¯†é’¥
```

## ğŸ’» ä½¿ç”¨æ–¹æ³•

### è¿è¡Œå®Œæ•´åˆ†ææµç¨‹
```bash
# ä½¿ç”¨é»˜è®¤å‚æ•°è¿è¡Œ
python main_v2.py

# è‡ªå®šä¹‰å‚æ•°
python main_v2.py --subreddits macapps apple productivity --limit 50 --output custom_report.md
```

### å¯ç”¨å‚æ•°é€‰é¡¹
- `--subreddits`, `-s`: è¦æœç´¢çš„Redditå­è®ºå›ï¼ˆé»˜è®¤ï¼šmacapps, iphone, chrome_extensionsï¼‰
- `--limit`, `-l`: æ¯ä¸ªæ•°æ®æºè·å–çš„æœ€å¤§å¸–å­æ•°ï¼ˆé»˜è®¤ï¼š25ï¼‰
- `--output`, `-o`: è¾“å‡ºæŠ¥å‘Šçš„æ–‡ä»¶å
- `--no-gpt`: è·³è¿‡GPTåˆ†æ
- `--no-competitive`: è·³è¿‡ç«äº‰åˆ†æ
- `--gold-only`: ä»…å¤„ç†é»„é‡‘åŒºåŸŸæœºä¼š

### å¯åŠ¨ä»ªè¡¨æ¿
```bash
# å¯åŠ¨Streamlitä»ªè¡¨æ¿
streamlit run dashboard.py
```

## ğŸ“‹ æ¨¡å—è¯´æ˜

### æ•°æ®æ”¶é›† (`src/scrapers/`)
- æ‰€æœ‰æ•°æ®æ”¶é›†å™¨éƒ½å®ç°äº†æ ‡å‡†çš„å¼‚æ­¥æ¥å£
- æŠ“å–çš„æ•°æ®ä½¿ç”¨ç»Ÿä¸€çš„ `RawPost` æ ¼å¼è¿›è¡Œè§„èŒƒåŒ–
- åŒ…å«å¤šçº§é‡è¯•æœºåˆ¶å’Œé€Ÿç‡é™åˆ¶ä»¥é¿å…APIé™åˆ¶

### LLMæå–å™¨ (`src/extractor.py`)
- ä½¿ç”¨GPT-3.5-turboæ¨¡å‹åˆ†ææ–‡æœ¬å†…å®¹
- å®ç°äº†æ‰¹å¤„ç†é€»è¾‘ä»¥ä¼˜åŒ–æˆæœ¬å’Œé€Ÿåº¦
- é‡‡ç”¨ç²¾å¿ƒè®¾è®¡çš„æç¤ºè¯ï¼ˆè§ `prompts/opportunity_v2.txt`ï¼‰

### è¯„åˆ†å¼•æ“ (`src/scoring.py`)
- å®ç°äº†PRDä¸­å®šä¹‰çš„è¯„åˆ†å…¬å¼
  - DemandScore = log10(post_score+1)*10 + sentiment*10 + velocity*20
  - SupplyScore = app_count*5 + avg_rating*2
  - Opportunity = DemandScore - SupplyScore
- é»„é‡‘åŒºåŸŸæ¡ä»¶ï¼šOpportunity â‰¥ 70, DemandScore â‰¥ 50, SupplyScore â‰¤ 30

### æŠ¥å‘Šç”Ÿæˆå™¨ (`src/report.py`)
- ç”Ÿæˆå¸¦æœ‰è§†è§‰æ”¯æŒçš„Markdownæ ¼å¼æŠ¥å‘Š
- åŒ…å«æ‰§è¡Œæ‘˜è¦ã€Top 5æœºä¼šè¯¦ç»†ä¿¡æ¯ã€é™„å½•

### ä»ªè¡¨æ¿ (`dashboard.py`)
- ä½¿ç”¨Streamlitæ„å»ºäº¤äº’å¼ä»ªè¡¨æ¿
- æ”¯æŒè¿‡æ»¤ï¼šæ—¶é—´èŒƒå›´ã€éœ€æ±‚åˆ†æ•°ã€æ ‡ç­¾ã€æ•°æ®æº
- æ˜¾ç¤ºé»„é‡‘åŒºåŸŸæœºä¼šã€è¶‹åŠ¿å›¾è¡¨å’Œè¯¦ç»†ä¿¡æ¯

## ğŸ§ª å¼€å‘æŒ‡å—

### æ·»åŠ æ–°æ•°æ®æº
1. åœ¨ `src/scrapers/` ä¸­åˆ›å»ºæ–°çš„æŠ“å–å™¨æ¨¡å—
2. å®ç°å¼‚æ­¥æ¥å£ä¸ `fetch_*` æ–¹æ³•
3. å°†æ•°æ®è½¬æ¢ä¸ºç»Ÿä¸€çš„ `RawPost` æ ¼å¼
4. åœ¨ `main_v2.py` ä¸­é›†æˆæ–°çš„æŠ“å–å™¨

### ä¿®æ”¹è¯„åˆ†é€»è¾‘
1. åœ¨ `src/scoring.py` ä¸­æ›´æ–°ç›¸å…³å…¬å¼
2. ç¡®ä¿ `ScoringEngine` ç±»çš„æ¥å£ä¿æŒä¸å˜
3. å¦‚æœæ·»åŠ æ–°ç‰¹å¾ï¼Œæ›´æ–°è§†å›¾å±‚ç›¸åº”æ˜¾ç¤º

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
pytest tests/unit/test_scoring.py
```

## ğŸ“ˆ é¡¹ç›®çŠ¶æ€

### æ¨¡å—çŠ¶æ€
- âœ… æ•°æ®æºé›†æˆ (Reddit, ProductHunt, AppStore, ChromeWebStore)
- âœ… LLMæå–å™¨å®ç°ï¼ˆä½¿ç”¨GPT-3.5-turboï¼‰
- âœ… è¯„åˆ†å¼•æ“å®ç°
- âœ… ç«äº‰åˆ†ææ•°æ®è·å–
- âœ… æŠ¥å‘Šç”Ÿæˆå™¨ï¼ˆMarkdown + è§†è§‰æ”¯æŒï¼‰
- âœ… Streamlitä»ªè¡¨æ¿
- âœ… å‘½ä»¤è¡Œç•Œé¢å‚æ•°æ”¯æŒ
- âš ï¸ ç”µå­é‚®ä»¶æ‘˜è¦ï¼ˆéƒ¨åˆ†å®ç°ï¼‰
- âš ï¸ æµ‹è¯•è¦†ç›–ç‡ä¸å…¨

### å·²çŸ¥é—®é¢˜
1. éƒ¨åˆ†è¡Œä¸šæ•°æ®å¯èƒ½éœ€è¦æ›´æ–°ï¼Œå°¤å…¶æ˜¯å¿«é€Ÿå˜åŒ–çš„æŠ€æœ¯é¢†åŸŸ
2. æŠ¥å‘Šä¹‹é—´çš„æ•°æ®æ ¼å¼å°šæœªå®Œå…¨ç»Ÿä¸€ï¼Œå¯èƒ½éœ€è¦æ ‡å‡†åŒ–å¤„ç†

## ğŸ“„ æˆæƒ
MIT

## ğŸ¤ è´¡çŒ®
æ¬¢è¿æäº¤é—®é¢˜å’Œæ‹‰å–è¯·æ±‚ï¼è¯·å‚é˜…[è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)äº†è§£è¯¦æƒ…ã€‚

## å¿«é€Ÿå¼€å§‹

### æœ¬åœ°å¼€å‘

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/yourusername/market_demand_radar.git
   cd market_demand_radar
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   pip install -r requirements.txt
   ```
   
3. **é…ç½®ç¯å¢ƒå˜é‡**
   åˆ›å»º`.env`æ–‡ä»¶å¹¶æ ¹æ®`.env.example`è®¾ç½®å¿…è¦çš„APIå¯†é’¥

4. **è¿è¡Œä»ªè¡¨æ¿**
   ```bash
   streamlit run dashboard.py
   ```

### Streamlit Cloudéƒ¨ç½²

æœ¬é¡¹ç›®å¯ä»¥è½»æ¾éƒ¨ç½²åˆ°[Streamlit Community Cloud](https://streamlit.io/cloud)ï¼š

1. å°†ä»£ç æ¨é€åˆ°GitHubä»“åº“
2. ç™»å½•Streamlit Cloud
3. ç‚¹å‡»"New app"å¹¶è¿æ¥æ‚¨çš„GitHubä»“åº“
4. é€‰æ‹©mainåˆ†æ”¯å’Œdashboard.pyä½œä¸ºä¸»æ–‡ä»¶
5. ç‚¹å‡»"Deploy!"

è®¿é—®[ä»ªè¡¨æ¿ä½¿ç”¨æŒ‡å—](docs/dashboard_guide.md)è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚

## æ•°æ®æº

- Redditè®¨è®º
- Product Huntæ–°äº§å“
- App Storeè¯„è®º
- Chrome Web Storeæ‰©å±•